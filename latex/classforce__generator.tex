\hypertarget{classforce__generator}{\section{force\-\_\-generator Class Reference}
\label{classforce__generator}\index{force\-\_\-generator@{force\-\_\-generator}}
}


The \hyperlink{classforce__generator}{force\-\_\-generator} class.  




{\ttfamily \#include $<$force\-\_\-generator.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classforce__generator_a3701cb8875ad174408b50517c2e096f5}{force\-\_\-generator} ()
\item 
double \hyperlink{classforce__generator_a7e40f6c94c2155f5e0caf2a34685c1d7}{pad\-\_\-force} (std\-::vector$<$ \hyperlink{force__generator_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} $>$ \&reading, bool left, cv\-::\-Mat \&image, std\-::vector$<$ double $>$ \&force\-\_\-per\-\_\-cell)
\begin{DoxyCompactList}\small\item\em pad\-\_\-force -\/ performs all the neccessary force calculations and conversions \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classforce__generator_a72718e6ff680ecc14ff9a27a5aa62293}{calc\-\_\-force} (std\-::vector$<$ std\-::vector$<$ double $>$ $>$ map, cv\-::\-Mat \&image, std\-::vector$<$ double $>$ \&force\-\_\-per\-\_\-cell)
\begin{DoxyCompactList}\small\item\em calc\-\_\-force -\/ This method will generate the force at each cell point. It will also draw an image based on the calcualted forces \end{DoxyCompactList}\item 
Eigen\-::\-Matrix\-Xd \hyperlink{classforce__generator_afa6c61de487ad4a850bfa4d5944577d6}{constant\-\_\-16by16} (int value)
\begin{DoxyCompactList}\small\item\em constant\-\_\-16by16 -\/ generates a 16x16 matrix containing all the same values \end{DoxyCompactList}\item 
Eigen\-::\-Matrix\-Xd \hyperlink{classforce__generator_ad86145a676a0c5ec67e6418188cbcf3f}{k\-\_\-creator} (Eigen\-::\-Matrix\-Xd \&ones, std\-::vector$<$ double $>$ \&row)
\begin{DoxyCompactList}\small\item\em k\-\_\-creator -\/ generates the diagonal values in a 16x16 matrix \end{DoxyCompactList}\item 
std\-::vector$<$ std\-::vector\\*
$<$ double $>$ $>$ \hyperlink{classforce__generator_a63267472044d217b55c860a724c1bc0e}{make\-\_\-aligned} (std\-::vector$<$ \hyperlink{force__generator_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar} $>$ \&reading)
\begin{DoxyCompactList}\small\item\em make\-\_\-aligned -\/ Takes an unorganised, one dimensional array containing all the A\-D\-C readings and aligns them into a 2-\/dimensinal array \end{DoxyCompactList}\item 
std\-::vector$<$ double $>$ \hyperlink{classforce__generator_af06c821901fb552457b738c4b18e41a7}{resistor\-\_\-row} (Eigen\-::\-Matrix\-Xd \&result)
\begin{DoxyCompactList}\small\item\em resistor\-\_\-row -\/ converts eignen matrix to vector \end{DoxyCompactList}\item 
void \hyperlink{classforce__generator_a6cd7bb94aa853b157fce7e58af33d597}{resistor\-\_\-convert} (Eigen\-::\-Matrix\-Xd \&all\-\_\-ones, std\-::vector$<$ double $>$ \&aligned, std\-::vector$<$ std\-::vector$<$ double $>$ $>$ \&resistor\-\_\-map, bool left, int i)
\begin{DoxyCompactList}\small\item\em resistor\-\_\-convert -\/ Takes a row of readings containing the raw A\-D\-C values and converts them to a resistance reading \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classforce__generator_a8d86f29fb8d7435bc67c833ebea9579d}{constant\-\_\-\-R} = 1.\-0/5000.\-0
\begin{DoxyCompactList}\small\item\em Constant value used during the conversion from A\-D\-C to resistance. \end{DoxyCompactList}\item 
std\-::mutex \hyperlink{classforce__generator_ab86abf71ba8319645ab92accd1f80a99}{mx\-\_\-left}
\begin{DoxyCompactList}\small\item\em Locks the resistor map in resistor\-\_\-\-Convert method when the left thread is accessing it. \end{DoxyCompactList}\item 
std\-::mutex \hyperlink{classforce__generator_a3f70de55db80a2e7ec683cf9605e2015}{mx\-\_\-right}
\begin{DoxyCompactList}\small\item\em Locks the resistor map in resistor\-\_\-\-Convert method when the right thread is accessing it. \end{DoxyCompactList}\item 
Eigen\-::\-Matrix\-Xd \hyperlink{classforce__generator_a6e529fccfe5e577bcd0dc3e017ece70c}{R}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \hyperlink{classforce__generator}{force\-\_\-generator} class. 

Performs all the force calculations and conversion required to properly use the pressure pad sensor 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classforce__generator_a3701cb8875ad174408b50517c2e096f5}{\index{force\-\_\-generator@{force\-\_\-generator}!force\-\_\-generator@{force\-\_\-generator}}
\index{force\-\_\-generator@{force\-\_\-generator}!force_generator@{force\-\_\-generator}}
\subsubsection[{force\-\_\-generator}]{\setlength{\rightskip}{0pt plus 5cm}force\-\_\-generator\-::force\-\_\-generator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classforce__generator_a3701cb8875ad174408b50517c2e096f5}


\subsection{Member Function Documentation}
\hypertarget{classforce__generator_a72718e6ff680ecc14ff9a27a5aa62293}{\index{force\-\_\-generator@{force\-\_\-generator}!calc\-\_\-force@{calc\-\_\-force}}
\index{calc\-\_\-force@{calc\-\_\-force}!force_generator@{force\-\_\-generator}}
\subsubsection[{calc\-\_\-force}]{\setlength{\rightskip}{0pt plus 5cm}double force\-\_\-generator\-::calc\-\_\-force (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ std\-::vector$<$ double $>$ $>$}]{map, }
\item[{cv\-::\-Mat \&}]{image, }
\item[{std\-::vector$<$ double $>$ \&}]{force\-\_\-per\-\_\-cell}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_a72718e6ff680ecc14ff9a27a5aa62293}


calc\-\_\-force -\/ This method will generate the force at each cell point. It will also draw an image based on the calcualted forces 


\begin{DoxyParams}{Parameters}
{\em map} & -\/ the list of resistors at each cell point \\
\hline
{\em image} & -\/ reference of the image that will be modified, this is the image that will be built based on the new forces \\
\hline
{\em force\-\_\-per\-\_\-cell} & -\/ vector containing each of the individual forces. This is done as a single long line of forces \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(double) -\/ the total force on the footpad 
\end{DoxyReturn}
\hypertarget{classforce__generator_afa6c61de487ad4a850bfa4d5944577d6}{\index{force\-\_\-generator@{force\-\_\-generator}!constant\-\_\-16by16@{constant\-\_\-16by16}}
\index{constant\-\_\-16by16@{constant\-\_\-16by16}!force_generator@{force\-\_\-generator}}
\subsubsection[{constant\-\_\-16by16}]{\setlength{\rightskip}{0pt plus 5cm}Eigen\-::\-Matrix\-Xd force\-\_\-generator\-::constant\-\_\-16by16 (
\begin{DoxyParamCaption}
\item[{int}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_afa6c61de487ad4a850bfa4d5944577d6}


constant\-\_\-16by16 -\/ generates a 16x16 matrix containing all the same values 


\begin{DoxyParams}{Parameters}
{\em value} & -\/ the contained value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(Eigen\-::\-Matrix\-Xd) -\/ object containing the matrix 
\end{DoxyReturn}
\hypertarget{classforce__generator_ad86145a676a0c5ec67e6418188cbcf3f}{\index{force\-\_\-generator@{force\-\_\-generator}!k\-\_\-creator@{k\-\_\-creator}}
\index{k\-\_\-creator@{k\-\_\-creator}!force_generator@{force\-\_\-generator}}
\subsubsection[{k\-\_\-creator}]{\setlength{\rightskip}{0pt plus 5cm}Eigen\-::\-Matrix\-Xd force\-\_\-generator\-::k\-\_\-creator (
\begin{DoxyParamCaption}
\item[{Eigen\-::\-Matrix\-Xd \&}]{ones, }
\item[{std\-::vector$<$ double $>$ \&}]{row}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_ad86145a676a0c5ec67e6418188cbcf3f}


k\-\_\-creator -\/ generates the diagonal values in a 16x16 matrix 


\begin{DoxyParams}{Parameters}
{\em ones} & -\/ a 16x16 matrix containing all 1's \\
\hline
{\em row} & -\/ vector containing the A\-D\-C values for a particular row \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(Eigen\-::\-Matrix\-Xd) -\/ 16x16 matrix with all the K values calculated 
\end{DoxyReturn}
\hypertarget{classforce__generator_a63267472044d217b55c860a724c1bc0e}{\index{force\-\_\-generator@{force\-\_\-generator}!make\-\_\-aligned@{make\-\_\-aligned}}
\index{make\-\_\-aligned@{make\-\_\-aligned}!force_generator@{force\-\_\-generator}}
\subsubsection[{make\-\_\-aligned}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ std\-::vector$<$ double $>$ $>$ force\-\_\-generator\-::make\-\_\-aligned (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ {\bf uchar} $>$ \&}]{reading}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_a63267472044d217b55c860a724c1bc0e}


make\-\_\-aligned -\/ Takes an unorganised, one dimensional array containing all the A\-D\-C readings and aligns them into a 2-\/dimensinal array 


\begin{DoxyParams}{Parameters}
{\em reading} & -\/ the unorganised reading \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
( std\-::vector$<$std\-::vector$<$double$>$ $>$) -\/ organised vector 
\end{DoxyReturn}
\hypertarget{classforce__generator_a7e40f6c94c2155f5e0caf2a34685c1d7}{\index{force\-\_\-generator@{force\-\_\-generator}!pad\-\_\-force@{pad\-\_\-force}}
\index{pad\-\_\-force@{pad\-\_\-force}!force_generator@{force\-\_\-generator}}
\subsubsection[{pad\-\_\-force}]{\setlength{\rightskip}{0pt plus 5cm}double force\-\_\-generator\-::pad\-\_\-force (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ {\bf uchar} $>$ \&}]{reading, }
\item[{bool}]{left, }
\item[{cv\-::\-Mat \&}]{image, }
\item[{std\-::vector$<$ double $>$ \&}]{force\-\_\-per\-\_\-cell}
\end{DoxyParamCaption}
)}}\label{classforce__generator_a7e40f6c94c2155f5e0caf2a34685c1d7}


pad\-\_\-force -\/ performs all the neccessary force calculations and conversions 


\begin{DoxyParams}{Parameters}
{\em reading} & -\/ raw adc reading \\
\hline
{\em left} & -\/ true if its the left pad \\
\hline
{\em image} & -\/ image that will be modified using the force values \\
\hline
{\em force\-\_\-per\-\_\-cell} & -\/ vector that will be modified with all the raw force readings \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(double) -\/ total force on the pad 
\end{DoxyReturn}
\hypertarget{classforce__generator_a6cd7bb94aa853b157fce7e58af33d597}{\index{force\-\_\-generator@{force\-\_\-generator}!resistor\-\_\-convert@{resistor\-\_\-convert}}
\index{resistor\-\_\-convert@{resistor\-\_\-convert}!force_generator@{force\-\_\-generator}}
\subsubsection[{resistor\-\_\-convert}]{\setlength{\rightskip}{0pt plus 5cm}void force\-\_\-generator\-::resistor\-\_\-convert (
\begin{DoxyParamCaption}
\item[{Eigen\-::\-Matrix\-Xd \&}]{all\-\_\-ones, }
\item[{std\-::vector$<$ double $>$ \&}]{aligned, }
\item[{std\-::vector$<$ std\-::vector$<$ double $>$ $>$ \&}]{resistor\-\_\-map, }
\item[{bool}]{left, }
\item[{int}]{i}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_a6cd7bb94aa853b157fce7e58af33d597}


resistor\-\_\-convert -\/ Takes a row of readings containing the raw A\-D\-C values and converts them to a resistance reading 


\begin{DoxyParams}{Parameters}
{\em all\-\_\-ones} & -\/ 16x16 vector containing only 1's \\
\hline
{\em aligned} & -\/ a single row from the vector containing the aligned readings \\
\hline
{\em resistor\-\_\-map} & -\/ a vector passed in by reference, this will contain all the results from the multiple rows \\
\hline
{\em left} & -\/ boolean thats true when its the left footpad \\
\hline
{\em i} & -\/ row position \\
\hline
\end{DoxyParams}
\hypertarget{classforce__generator_af06c821901fb552457b738c4b18e41a7}{\index{force\-\_\-generator@{force\-\_\-generator}!resistor\-\_\-row@{resistor\-\_\-row}}
\index{resistor\-\_\-row@{resistor\-\_\-row}!force_generator@{force\-\_\-generator}}
\subsubsection[{resistor\-\_\-row}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ double $>$ force\-\_\-generator\-::resistor\-\_\-row (
\begin{DoxyParamCaption}
\item[{Eigen\-::\-Matrix\-Xd \&}]{result}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_af06c821901fb552457b738c4b18e41a7}


resistor\-\_\-row -\/ converts eignen matrix to vector 


\begin{DoxyParams}{Parameters}
{\em result} & -\/ post resistor calculation result \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
(std\-::vector$<$double$>$) -\/ vector containing the resistors in certain row 
\end{DoxyReturn}


\subsection{Member Data Documentation}
\hypertarget{classforce__generator_a8d86f29fb8d7435bc67c833ebea9579d}{\index{force\-\_\-generator@{force\-\_\-generator}!constant\-\_\-\-R@{constant\-\_\-\-R}}
\index{constant\-\_\-\-R@{constant\-\_\-\-R}!force_generator@{force\-\_\-generator}}
\subsubsection[{constant\-\_\-\-R}]{\setlength{\rightskip}{0pt plus 5cm}double force\-\_\-generator\-::constant\-\_\-\-R = 1.\-0/5000.\-0\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_a8d86f29fb8d7435bc67c833ebea9579d}


Constant value used during the conversion from A\-D\-C to resistance. 

\hypertarget{classforce__generator_ab86abf71ba8319645ab92accd1f80a99}{\index{force\-\_\-generator@{force\-\_\-generator}!mx\-\_\-left@{mx\-\_\-left}}
\index{mx\-\_\-left@{mx\-\_\-left}!force_generator@{force\-\_\-generator}}
\subsubsection[{mx\-\_\-left}]{\setlength{\rightskip}{0pt plus 5cm}std\-::mutex force\-\_\-generator\-::mx\-\_\-left\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_ab86abf71ba8319645ab92accd1f80a99}


Locks the resistor map in resistor\-\_\-\-Convert method when the left thread is accessing it. 

\hypertarget{classforce__generator_a3f70de55db80a2e7ec683cf9605e2015}{\index{force\-\_\-generator@{force\-\_\-generator}!mx\-\_\-right@{mx\-\_\-right}}
\index{mx\-\_\-right@{mx\-\_\-right}!force_generator@{force\-\_\-generator}}
\subsubsection[{mx\-\_\-right}]{\setlength{\rightskip}{0pt plus 5cm}std\-::mutex force\-\_\-generator\-::mx\-\_\-right\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_a3f70de55db80a2e7ec683cf9605e2015}


Locks the resistor map in resistor\-\_\-\-Convert method when the right thread is accessing it. 

\hypertarget{classforce__generator_a6e529fccfe5e577bcd0dc3e017ece70c}{\index{force\-\_\-generator@{force\-\_\-generator}!R@{R}}
\index{R@{R}!force_generator@{force\-\_\-generator}}
\subsubsection[{R}]{\setlength{\rightskip}{0pt plus 5cm}Eigen\-::\-Matrix\-Xd force\-\_\-generator\-::\-R\hspace{0.3cm}{\ttfamily [private]}}}\label{classforce__generator_a6e529fccfe5e577bcd0dc3e017ece70c}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/pressure\-\_\-pad/\hyperlink{force__generator_8h}{force\-\_\-generator.\-h}\item 
src/\hyperlink{force__generator_8cpp}{force\-\_\-generator.\-cpp}\end{DoxyCompactItemize}
